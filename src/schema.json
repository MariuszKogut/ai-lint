{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "title": "AI Linter Config",
  "description": "Configuration schema for .ai-linter.yml",
  "type": "object",
  "additionalProperties": false,
  "properties": {
    "model": {
      "type": "string",
      "enum": ["haiku", "sonnet", "opus"],
      "description": "Default AI model to use for linting"
    },
    "concurrency": {
      "type": "number",
      "minimum": 1,
      "maximum": 20,
      "description": "Maximum number of parallel API calls"
    },
    "git_base": {
      "type": "string",
      "description": "Default base branch for --changed mode"
    },
    "rules": {
      "type": "array",
      "minItems": 1,
      "items": {
        "$ref": "#/definitions/rule"
      },
      "description": "Array of lint rules"
    }
  },
  "required": ["rules"],
  "definitions": {
    "rule": {
      "type": "object",
      "additionalProperties": false,
      "properties": {
        "id": {
          "type": "string",
          "pattern": "^[a-z][a-z0-9_]*$",
          "description": "Unique rule identifier (snake_case)"
        },
        "name": {
          "type": "string",
          "minLength": 1,
          "description": "Human-readable rule name"
        },
        "severity": {
          "type": "string",
          "enum": ["error", "warning"],
          "description": "Severity level of the rule"
        },
        "glob": {
          "type": "string",
          "minLength": 1,
          "description": "Glob pattern for file matching"
        },
        "exclude": {
          "type": "string",
          "description": "Glob pattern for file exclusion"
        },
        "prompt": {
          "type": "string",
          "minLength": 1,
          "description": "AI prompt for this rule"
        },
        "model": {
          "type": "string",
          "enum": ["haiku", "sonnet", "opus"],
          "description": "Override default model for this rule"
        }
      },
      "required": ["id", "name", "severity", "glob", "prompt"]
    }
  }
}
